(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[402],{2402:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SettingsModule:()=>v});var s=i(1116),n=i(719),r=i(1462),o=i(6544),u=i(5968),a=i(2504),c=i(5366),m=i(2883),l=i(3022),p=i(2693);let d=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-selection-menu"]],decls:10,vars:0,consts:[[1,"color"],[1,"nav","right","nav-pills","flex-column","mb-auto"],[1,"mb-2"],["routerLink","/settings/edit","routerLinkActive","active",1,"nav-link","link-dark"],["src","\\assets\\images\\icons\\account_circle_black_24dp.svg","alt","image"],["routerLink","/settings/password","routerLinkActive","active",1,"nav-link","link-dark"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"ul",1),c.TgZ(2,"li",2),c.TgZ(3,"a",3),c._UZ(4,"img",4),c._uU(5," Edit Profile "),c.qZA(),c.qZA(),c.TgZ(6,"li",2),c.TgZ(7,"a",5),c._UZ(8,"img",4),c._uU(9," Change Password "),c.qZA(),c.qZA(),c.qZA(),c.qZA())},directives:[n.yS,n.Od],styles:[".color[_ngcontent-%COMP%]{background-color:#f8f8f8}"]}),e})();function g(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"form",1),c.NdJ("ngSubmit",function(){return c.CHM(e),c.oxw().onSubmit()}),c.TgZ(1,"h1",2),c._uU(2,"Settings"),c.qZA(),c.TgZ(3,"div",3),c.TgZ(4,"div"),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c._UZ(7,"img",6),c.qZA(),c.TgZ(8,"div",7),c._uU(9),c.qZA(),c.qZA(),c.TgZ(10,"div"),c.TgZ(11,"div",8),c.TgZ(12,"span",9),c._uU(13," Old pass "),c.qZA(),c._UZ(14,"input",10),c.qZA(),c.TgZ(15,"div",8),c.TgZ(16,"span",9),c._uU(17," New pass "),c.qZA(),c._UZ(18,"input",11),c.qZA(),c.TgZ(19,"div",8),c.TgZ(20,"span",9),c._uU(21," Confirm pass "),c.qZA(),c._UZ(22,"input",12),c.qZA(),c.TgZ(23,"div",8),c._UZ(24,"span",13),c.TgZ(25,"span"),c._uU(26,"Enter personal information about you. This information will appear on your public profile."),c.qZA(),c.qZA(),c.TgZ(27,"div",8),c._UZ(28,"span",13),c.TgZ(29,"button",14),c._uU(30,"Send"),c.qZA(),c.qZA(),c.TgZ(31,"div",15),c._UZ(32,"span",13),c.TgZ(33,"div",16),c.NdJ("click",function(){return c.CHM(e),c.oxw().openRecovery()}),c._uU(34," Forgot pass? "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(35,"div"),c._UZ(36,"app-selection-menu"),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.Q6J("formGroup",e.changeForm),c.xp6(9),c.AsE(" ",e.user.firstName," ",e.user.lastName," ")}}function Z(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"form",1),c.NdJ("ngSubmit",function(){return c.CHM(e),c.oxw().onSubmit()}),c.TgZ(1,"h1",2),c._uU(2,"Settings"),c.qZA(),c.TgZ(3,"div",3),c.TgZ(4,"div"),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c._UZ(7,"img",6),c.qZA(),c.TgZ(8,"div",7),c._uU(9),c.qZA(),c.qZA(),c.TgZ(10,"div"),c.TgZ(11,"div",8),c.TgZ(12,"span",9),c._uU(13," First name "),c.qZA(),c._UZ(14,"input",10),c.qZA(),c.TgZ(15,"div",8),c.TgZ(16,"span",9),c._uU(17," Last name "),c.qZA(),c._UZ(18,"input",11),c.qZA(),c.TgZ(19,"div",8),c.TgZ(20,"span",9),c._uU(21," Email "),c.qZA(),c._UZ(22,"input",12),c.qZA(),c.TgZ(23,"div",8),c.TgZ(24,"span",9),c._uU(25," Description "),c.qZA(),c._UZ(26,"textarea",13),c.qZA(),c.TgZ(27,"div",8),c._UZ(28,"span",14),c.TgZ(29,"span"),c._uU(30,"Enter personal information about you. This information will appear on your public profile."),c.qZA(),c.qZA(),c.TgZ(31,"div",15),c._UZ(32,"span",14),c.TgZ(33,"button",16),c._uU(34,"Send"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(35,"div"),c._UZ(36,"app-selection-menu"),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.Q6J("formGroup",e.editForm),c.xp6(9),c.AsE(" ",e.user.firstName," ",e.user.lastName," ")}}const f=[{path:"",redirectTo:"edit"},{path:"password",component:(()=>{class e{constructor(e,t,i,s){this.userService=e,this.fb=t,this.modal=i,this.http=s,this.changeForm=this.fb.group({oldPass:["",[r.kI.required]],newPass:["",[r.kI.required]],confirmPass:["",[r.kI.required]]},{validator:(0,a.Y)("newPass","confirmPass")})}ngOnInit(){this.getUser()}getUser(){this.userService.userInfo$.subscribe(e=>this.user=e)}openRecovery(){this.modal.open(u.W,{centered:!0}).componentInstance.isModal=!0}onSubmit(){if(this.changeForm.valid){const e={oldPass:(0,o.sha256)(this.changeForm.value.oldPass),newPass:(0,o.sha256)(this.changeForm.value.newPass),confirmPass:(0,o.sha256)(this.changeForm.value.confirmPass)};this.http.put(`updatePassword/${this.user.id}`,e).subscribe(()=>console.log())}}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(m.K),c.Y36(r.qu),c.Y36(l.FF),c.Y36(p.eN))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-change-password"]],decls:1,vars:1,consts:[["class","m-5",3,"formGroup","ngSubmit",4,"ngIf"],[1,"m-5",3,"formGroup","ngSubmit"],[1,"mb-4","text-center"],[1,"d-flex","justify-content-between"],[1,"d-flex","mb-5"],[1,"me-2"],["src","/assets/user.jpg","alt","user image"],[1,"d-flex","h4"],[1,"d-flex","mb-4"],[1,"h4","text__input","me-4"],["type","password","formControlName","oldPass",1,"form-control"],["type","password","formControlName","newPass",1,"form-control"],["type","password","formControlName","confirmPass",1,"form-control"],[1,"text__input","me-4"],["type","submit",1,"btn","btn-outline-primary","w-25"],[1,"d-flex"],[1,"recovery",3,"click"]],template:function(e,t){1&e&&c.YNc(0,g,37,3,"form",0),2&e&&c.Q6J("ngIf",t.user)},directives:[s.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,d],styles:["img[_ngcontent-%COMP%]{width:80px;height:80px}.text__input[_ngcontent-%COMP%]{flex:0 0 131px}textarea[_ngcontent-%COMP%]{resize:none}[_nghost-%COMP%]{width:100%;height:100%}.recovery[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:underline;cursor:pointer}"]}),e})()},{path:"edit",component:(()=>{class e{constructor(e,t){this.fb=e,this.userService=t}ngOnInit(){this.getUser(),this.editForm=this.fb.group({firstName:["",[r.kI.required]],lastName:["",[r.kI.required]],email:["",[r.kI.email,r.kI.required]],description:["",[r.kI.required]]}),setTimeout(()=>{var e,t,i,s;this.editForm=this.fb.group({firstName:[null===(e=this.user)||void 0===e?void 0:e.firstName,[r.kI.required]],lastName:[null===(t=this.user)||void 0===t?void 0:t.lastName,[r.kI.required]],email:[null===(i=this.user)||void 0===i?void 0:i.email,[r.kI.email,r.kI.required]],description:[null===(s=this.user)||void 0===s?void 0:s.description,[r.kI.required]]})},500)}getUser(){this.userService.userInfo$.subscribe(e=>this.user=e)}onSubmit(){this.userService.editOne(this.user.id,this.editForm.value).subscribe(()=>{this.userService.userInfo$.subscribe(e=>this.user=e),this.userService.subject$.next(1)})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(r.qu),c.Y36(m.K))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-edit-profile"]],decls:1,vars:1,consts:[["class","m-5",3,"formGroup","ngSubmit",4,"ngIf"],[1,"m-5",3,"formGroup","ngSubmit"],[1,"mb-4","text-center"],[1,"d-flex","justify-content-between"],[1,"d-flex","mb-5"],[1,"me-2"],["src","/assets/user.jpg","alt","user image"],[1,"d-flex","h4"],[1,"d-flex","mb-4"],[1,"h4","text__input","me-4"],["type","text","formControlName","firstName",1,"form-control"],["type","text","formControlName","lastName",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["cols","50","rows","5","formControlName","description",1,"form-control"],[1,"text__input","me-4"],[1,"d-flex"],["type","submit",1,"btn","btn-outline-primary","w-25"]],template:function(e,t){1&e&&c.YNc(0,Z,37,3,"form",0),2&e&&c.Q6J("ngIf",t.user)},directives:[s.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,d],styles:["img[_ngcontent-%COMP%]{width:80px;height:80px}.text__input[_ngcontent-%COMP%]{flex:0 0 131px}textarea[_ngcontent-%COMP%]{resize:none}[_nghost-%COMP%]{width:100%;height:100%}"]}),e})()}];let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[n.Bz.forChild(f)],n.Bz]}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[l.Kz],imports:[[s.ez,h,r.u5,r.UX]]}),e})()}}]);