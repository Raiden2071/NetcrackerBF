(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[606],{3606:(e,n,t)=>{"use strict";t.r(n),t.d(n,{AnnouncmentModule:()=>_});var r=t(1116),o=t(1462),s=t(719),i=t(4689),c=t(5366),a=t(3022),l=t(2883);let u=(()=>{class e{constructor(e,n,t){this.fb=e,this.activeModal=n,this.userService=t,this.showErrors=!1}ngOnInit(){this.getUser(),this.annoucementForm=this.fb.group({title:["",[o.kI.required]],description:["",[o.kI.required]],address:["",[o.kI.required]],idUser:[this.userId]}),this.annoucementForm.valueChanges.subscribe(()=>this.showErrors=!1)}getUser(){this.userService.userInfo$.subscribe(({id:e})=>this.userId=e)}addAnnouncement(){this.annoucementForm.valid?this.activeModal.close(this.annoucementForm.value):this.showErrors=!0}close(){this.activeModal.close()}}return e.\u0275fac=function(n){return new(n||e)(c.Y36(o.qu),c.Y36(a.Kz),c.Y36(l.K))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-create-announcment"]],decls:18,vars:13,consts:[[1,"m-5",3,"formGroup","ngSubmit"],[1,"mb-4"],[1,"form-group","mb-3"],["for","title"],["type","text","formControlName","title","placeholder","Enter title",1,"form-control"],["for","address"],["type","text","formControlName","address","placeholder","Enter address",1,"form-control"],[1,"form-group","mb-4"],["for","description"],["formControlName","description","cols","20","rows","5","placeholder","Enter description...",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100"],["src","/assets/images/icons/close_black_24dp.svg",1,"cancel",3,"click"]],template:function(e,n){1&e&&(c.TgZ(0,"form",0),c.NdJ("ngSubmit",function(){return n.addAnnouncement()}),c.TgZ(1,"h1",1),c._uU(2,"Create announcement"),c.qZA(),c.TgZ(3,"div",2),c.TgZ(4,"label",3),c._uU(5,"Title"),c.qZA(),c._UZ(6,"input",4),c.qZA(),c.TgZ(7,"div",2),c.TgZ(8,"label",5),c._uU(9,"Address"),c.qZA(),c._UZ(10,"input",6),c.qZA(),c.TgZ(11,"div",7),c.TgZ(12,"label",8),c._uU(13,"Description"),c.qZA(),c._UZ(14,"textarea",9),c.qZA(),c.TgZ(15,"button",10),c._uU(16,"Promise"),c.qZA(),c.qZA(),c.TgZ(17,"img",11),c.NdJ("click",function(){return n.close()}),c.qZA()),2&e&&(c.Q6J("formGroup",n.annoucementForm),c.xp6(4),c.ekj("text-danger",n.showErrors),c.xp6(2),c.ekj("border-danger",n.showErrors),c.xp6(2),c.ekj("text-danger",n.showErrors),c.xp6(2),c.ekj("border-danger",n.showErrors),c.xp6(2),c.ekj("text-danger",n.showErrors),c.xp6(2),c.ekj("border-danger",n.showErrors))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u],styles:["textarea[_ngcontent-%COMP%]{resize:none}.cancel[_ngcontent-%COMP%]{position:absolute;right:15px;top:15px;width:24px}"]}),e})();var d=t(4095),g=t(2693);let p=(()=>{class e extends d.p{constructor(e){super(e),this.http=e,this.path="announcement/all"}}return e.\u0275fac=function(n){return new(n||e)(c.LFG(g.eN))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=t(9282),h=t(8453);function Z(e,n){if(1&e&&(c.TgZ(0,"div",14),c.TgZ(1,"div",15),c.TgZ(2,"div",16),c.TgZ(3,"div",17),c.TgZ(4,"div",18),c._UZ(5,"img",19),c.TgZ(6,"div"),c.TgZ(7,"div"),c._uU(8),c.qZA(),c.TgZ(9,"div"),c._uU(10),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"div",20),c._uU(12),c.qZA(),c.qZA(),c.TgZ(13,"div",21),c.TgZ(14,"div",22),c._UZ(15,"img",23),c.TgZ(16,"div"),c._uU(17),c.ALo(18,"date"),c.qZA(),c.qZA(),c.TgZ(19,"div",22),c._UZ(20,"img",24),c.TgZ(21,"div"),c._uU(22),c.qZA(),c.qZA(),c.TgZ(23,"div",22),c._UZ(24,"img",25),c.TgZ(25,"div"),c._uU(26),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const e=n.$implicit;c.xp6(8),c.Oqu(null==e?null:e.title),c.xp6(2),c.AsE("by ",null==e.user?null:e.user.firstName," ",null==e.user?null:e.user.lastName,""),c.xp6(2),c.hij(" ",null==e?null:e.description," "),c.xp6(5),c.hij("",c.xi3(18,7,null==e?null:e.date,"yyyy.MM.dd")," "),c.xp6(5),c.Oqu(null==e?null:e.address),c.xp6(4),c.Oqu(null==e?null:e.participantsCap)}}const f=function(e){return{itemsPerPage:3,currentPage:e}};function v(e,n){if(1&e&&(c.TgZ(0,"div",12),c.YNc(1,Z,27,10,"div",13),c.ALo(2,"paginate"),c.ALo(3,"filter"),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Q6J("ngForOf",c.xi3(2,1,c.xi3(3,4,e.announcements,e.term),c.VKq(7,f,e.p)))}}const x=[{path:"",component:(()=>{class e{constructor(e,n,t,r){this.modalService=e,this.announcementService=n,this.userService=t,this.http=r,this.p=1}ngOnInit(){this.getAnnouncement()}getAnnouncement(){this.userService.userInfo$.pipe((0,i.w)(({id:e})=>this.announcementService.getOne(e))).subscribe(e=>this.announcements=e)}createAnnouncement(){this.modalService.open(u,{centered:!0}).closed.pipe((0,i.w)(e=>this.http.post("announcement/create",e))).subscribe(()=>this.getAnnouncement())}}return e.\u0275fac=function(n){return new(n||e)(c.Y36(a.FF),c.Y36(p),c.Y36(l.K),c.Y36(g.eN))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-announcment"]],decls:14,vars:2,consts:[[1,"m-5"],[1,"col-xl-4","col-6"],[1,"mb-5","input-group","input-group-merge"],["type","search","placeholder","Search project",1,"form-control","col-6",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],["src","/assets/images/icons/search_black_24dp.svg","alt","search",1,"svg"],[1,"mb-5"],["class","row flex-wrap card-deck",4,"ngIf"],[1,"d-flex","justify-content-between"],[3,"pageChange"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"row","flex-wrap","card-deck"],["class","col-12 col-lg-6 col-xl-4 mb-3 d-flex align-items-stretch full_card",4,"ngFor","ngForOf"],[1,"col-12","col-lg-6","col-xl-4","mb-3","d-flex","align-items-stretch","full_card"],[1,"card","w-100"],[1,"card-body","d-flex","body"],[1,"d-flex","flex-column","col-9"],[1,"d-flex","mb-2","image"],["src","/assets/user.jpg","alt","image",1,"me-2"],[1,"description"],[1,"d-flex","flex-column","justify-content-between","col-3","second__card"],[1,"d-flex","word-wrap","svg"],["src","/assets/images/icons/today_black_24dp.svg","alt","date",1,"svg","me-1"],["src","/assets/images/icons/location_on_black_24dp.svg","alt","date",1,"svg","me-1"],["src","/assets/images/icons/favorite_border_black_24dp.svg","alt","date",1,"svg","me-1"]],template:function(e,n){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"input",3),c.NdJ("ngModelChange",function(e){return n.term=e}),c.qZA(),c.TgZ(4,"div",4),c.TgZ(5,"span",5),c._UZ(6,"img",6),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(7,"h2",7),c._uU(8,"All Announcment"),c.qZA(),c.YNc(9,v,4,9,"div",8),c.TgZ(10,"div",9),c.TgZ(11,"pagination-controls",10),c.NdJ("pageChange",function(e){return n.p=e}),c.qZA(),c.TgZ(12,"button",11),c.NdJ("click",function(){return n.createAnnouncement()}),c._uU(13,"Create Announcement"),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Q6J("ngModel",n.term),c.xp6(6),c.Q6J("ngIf",n.announcements))},directives:[o.Fj,o.JJ,o.On,r.O5,m.LS,r.sg],pipes:[m._s,h.Z,r.uU],styles:[".image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.word-wrap[_ngcontent-%COMP%]{font-size:12px;word-break:break-all;word-wrap:break-word}.svg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px}.full_card[_ngcontent-%COMP%]{min-height:200px;max-height:450px}.second__card[_ngcontent-%COMP%]{min-width:80px}.description[_ngcontent-%COMP%]{cursor:pointer;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow-y:hidden}[_nghost-%COMP%]{width:100%;height:100%}"]}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.Bz.forChild(x)],s.Bz]}),e})();var A=t(8508);(0,r.qS)(t.n(A)(),"ru");let _=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.ez,b,o.u5,o.UX,m.JX,h.h]]}),e})()}}]);