{"version":3,"sources":["./src/app/modals/create-announcement/components/create-announcement.ts","./src/app/modals/create-announcement/components/create-announcement.html","./src/app/modules/announcement/announcment-routing.module.ts","./src/app/modules/announcement/announcment.module.ts","./src/app/modules/announcement/components/announcment.component.ts","./src/app/modules/announcement/components/announcment.component.html","./src/app/shared/services/announcement.service.ts"],"names":[],"mappings":"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","file":"src_app_modules_announcement_announcment_module_ts.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { UserService } from 'src/app/shared/services/users.service';\r\n// import { User } from 'src/app/models/user';\r\n// import { announcementService } from 'src/app/shared/services/announcement.service';\r\n// import { UserService } from 'src/app/shared/services/users.service';\r\n\r\n@Component({\r\n  selector: 'app-create-announcment',\r\n  templateUrl: './create-announcement.html',\r\n  styleUrls: ['./create-announcement.scss']\r\n})\r\nexport class CreateAnnouncementComponent implements OnInit {\r\n\r\n  annoucementForm: FormGroup;\r\n  showErrors = false;\r\n  userId: number;\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private activeModal: NgbActiveModal,\r\n    private userService: UserService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getUser();\r\n    this.annoucementForm = this.fb.group({\r\n      title:       ['', [Validators.required]],\r\n      description: ['', [Validators.required]],\r\n      address:     ['', [Validators.required]],\r\n      idUser:      [this.userId]\r\n    });\r\n    this.annoucementForm.valueChanges.subscribe(() => this.showErrors = false);\r\n  }\r\n\r\n  getUser(): void {\r\n    this.userService.userInfo$.subscribe(({id}) => this.userId = id);\r\n  }\r\n\r\n  addAnnouncement() {\r\n    if(this.annoucementForm.valid) {\r\n      this.activeModal.close(this.annoucementForm.value);\r\n    }\r\n    else {\r\n      this.showErrors = true;\r\n    }\r\n  }\r\n\r\n  close(): void {\r\n    this.activeModal.close();\r\n  }\r\n  \r\n}\r\n","<form [formGroup]=\"annoucementForm\" (ngSubmit)=\"addAnnouncement()\" class=\"m-5\">\r\n  <h1 class=\"mb-4\">Create announcement</h1>\r\n  <div class=\"form-group mb-3\">\r\n    <label  for=\"title\" [class.text-danger]=\"showErrors\">Title</label>\r\n    <input type=\"text\" formControlName=\"title\" class=\"form-control\" placeholder=\"Enter title\"\r\n    [class.border-danger]=\"showErrors\">\r\n  </div>\r\n  <div class=\"form-group mb-3\">\r\n    <label for=\"address\" [class.text-danger]=\"showErrors\">Address</label>\r\n    <input type=\"text\" formControlName=\"address\" class=\"form-control\" placeholder=\"Enter address\"\r\n    [class.border-danger]=\"showErrors\">\r\n  </div>\r\n  <div class=\"form-group mb-4\">\r\n    <label for=\"description\" [class.text-danger]=\"showErrors\">Description</label>\r\n    <textarea formControlName=\"description\"  cols=\"20\" rows=\"5\" class=\"form-control\" placeholder=\"Enter description...\" [class.border-danger]=\"showErrors\"></textarea>\r\n  </div>\r\n  <button type=\"submit\" class=\"btn btn-primary w-100\">Promise</button>\r\n</form>\r\n<img src=\"/assets/images/icons/close_black_24dp.svg\" class=\"cancel\" (click)=\"close()\">\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AnnouncmentComponent } from './components/announcment.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: AnnouncmentComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AnnouncmentRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule, registerLocaleData } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AnnouncmentRoutingModule } from './announcment-routing.module';\r\nimport { AnnouncmentComponent } from './components/announcment.component';\r\nimport { NgxPaginationModule } from 'ngx-pagination';  \r\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';   \r\nimport { CreateAnnouncementComponent } from 'src/app/modals/create-announcement/components/create-announcement';\r\nimport localeRu from '@angular/common/locales/ru';\r\n\r\nregisterLocaleData(localeRu, 'ru');\r\n\r\n@NgModule({\r\n  declarations: [AnnouncmentComponent,CreateAnnouncementComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AnnouncmentRoutingModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    NgxPaginationModule,\r\n    Ng2SearchPipeModule\r\n  ]\r\n})\r\nexport class AnnouncmentModule { }\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { switchMap, tap } from 'rxjs/operators';\r\nimport { CreateAnnouncementComponent } from 'src/app/modals/create-announcement/components/create-announcement';\r\nimport { Announcement } from 'src/app/models/announcements';\r\nimport { announcementService } from 'src/app/shared/services/announcement.service';\r\nimport { UserService } from 'src/app/shared/services/users.service';\r\n\r\n@Component({\r\n  selector: 'app-announcment',\r\n  templateUrl: './announcment.component.html',\r\n  styleUrls: ['./announcment.component.scss']\r\n})\r\nexport class AnnouncmentComponent implements OnInit {\r\n\r\n  announcements: Announcement;\r\n  // searchProject: FormControl = new FormControl('');\r\n  term: any;\r\n  p: number = 1;\r\n  userId: number;\r\n  constructor(\r\n    private modalService: NgbModal,\r\n    private announcementService: announcementService,\r\n    private userService: UserService,\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  ngOnInit(): void {    \r\n    this.getAnnouncement();\r\n  }\r\n\r\n  getAnnouncement() {\r\n    this.userService.userInfo$.pipe(\r\n      switchMap(({id}) => this.announcementService.getOne(id)),\r\n    ).subscribe(announcement => this.announcements = announcement);\r\n  }\r\n\r\n  createAnnouncement(): void {\r\n    const modalRef = this.modalService.open(CreateAnnouncementComponent, { centered: true });\r\n    modalRef.closed.pipe(\r\n      switchMap(announcement => this.http.post<Announcement>('announcement/create', announcement))\r\n    ).subscribe(() =>\r\n      this.getAnnouncement()\r\n    );\r\n  }\r\n}\r\n","<div class=\"m-5\">\r\n  <!-- Search -->\r\n  <div class=\"col-xl-4 col-6\">\r\n    <div class=\"mb-5 input-group input-group-merge\">\r\n      <input type=\"search\" class=\"form-control col-6\" [(ngModel)]=\"term\" placeholder=\"Search project\">\r\n      <div class=\"input-group-append\">\r\n        <span class=\"input-group-text\">\r\n          <img src=\"/assets/images/icons/search_black_24dp.svg\" alt=\"search\" class=\"svg\">\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <h2 class=\"mb-5\">All Announcment</h2>\r\n  <!-- Cards -->\r\n  <div *ngIf=\"announcements\" class=\"row flex-wrap card-deck\">\r\n    <div *ngFor=\"let annoucement of announcements | filter: term | paginate: { itemsPerPage: 3, currentPage: p }\"\r\n      class=\"col-12 col-lg-6 col-xl-4 mb-3 d-flex align-items-stretch full_card\">\r\n      <div class=\"card w-100\">\r\n        <div class=\"card-body d-flex body\">\r\n          <!-- first half of the card -->\r\n          <div class=\"d-flex flex-column col-9\">\r\n            <div class=\"d-flex mb-2 image\">\r\n              <img src=\"/assets/user.jpg\" alt=\"image\" class=\"me-2\">\r\n              <div>\r\n                <div>{{annoucement?.title}}</div>\r\n                <div>by {{annoucement.user?.firstName}} {{annoucement.user?.lastName}}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"description\">\r\n              {{annoucement?.description}}\r\n            </div>\r\n          </div>\r\n          <!-- second half of the card -->\r\n          <div class=\"d-flex flex-column justify-content-between col-3 second__card\">\r\n            <div class=\"d-flex word-wrap svg\">\r\n              <img src=\"/assets/images/icons/today_black_24dp.svg\" alt=\"date\" class=\"svg me-1\">\r\n              <div>{{annoucement?.date | date:\"yyyy.MM.dd\"}} </div>\r\n            </div>\r\n            <div class=\"d-flex word-wrap svg\">\r\n              <img src=\"/assets/images/icons/location_on_black_24dp.svg\" alt=\"date\" class=\"svg me-1\">\r\n              <div>{{annoucement?.address}}</div>\r\n            </div>\r\n            <div class=\"d-flex word-wrap svg\">\r\n              <img src=\"/assets/images/icons/favorite_border_black_24dp.svg\" alt=\"date\" class=\"svg me-1\">\r\n              <div>{{annoucement?.participantsCap}}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!--  -->\r\n  <div class=\"d-flex justify-content-between\">\r\n    <pagination-controls (pageChange)=\"p = $event\"></pagination-controls>\r\n    <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"createAnnouncement()\">Create Announcement</button>\r\n  </div>\r\n\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Announcement } from 'src/app/models/announcements';\r\nimport { AbstractCrudService } from '../abstracts/abstract-crud.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class announcementService extends AbstractCrudService<Announcement>{\r\n\r\n  path = 'announcement/all';\r\n  \r\n  constructor(protected http: HttpClient) {\r\n    super(http);\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}