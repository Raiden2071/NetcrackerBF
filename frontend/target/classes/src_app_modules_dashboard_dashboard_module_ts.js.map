{"version":3,"sources":["./src/app/modules/dashboard/components/dashboard.component.ts","./src/app/modules/dashboard/components/dashboard.component.html","./src/app/modules/dashboard/dashboard-routing.module.ts","./src/app/modules/dashboard/dashboard.module.ts"],"names":[],"mappings":"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","file":"src_app_modules_dashboard_dashboard_module_ts.js","sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { switchMap, tap } from 'rxjs/operators';\r\nimport { Dashboard } from 'src/app/models/dashboard';\r\nimport { User } from 'src/app/models/user';\r\nimport { UserService } from 'src/app/shared/services/users.service';\r\n\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.scss']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n\r\n  user: User;\r\n  dashboard: Dashboard;\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getDashboard();\r\n  }\r\n\r\n  getDashboard(): void {\r\n    this.userService.userInfo$.pipe(\r\n      tap(user => this.user = user),\r\n      switchMap(({id}) => this.http.get<Dashboard>(`dashboard/${id}`))\r\n    ).subscribe(dashboard => this.dashboard = dashboard);\r\n  }\r\n\r\n  onLike(annoucement) {\r\n    this.http.post('announcement/like', {idAnnouncement: annoucement.id}).subscribe(() => this.getDashboard());\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"dashboard\" class=\"m-5\">\r\n  <h3 class=\"mb-4\">Hello, {{user.firstName}} {{user.lastName}}</h3>\r\n  <h3 class=\"mb-4\">Last quizzes</h3>\r\n  <!-- quiz -->\r\n  <!-- Cards -->\r\n  <div *ngIf=\"dashboard\">\r\n    <div class=\"row flex-wrap card-deck mb-4\">\r\n      <div *ngFor=\"let quiz of dashboard.lastQuizzes\"\r\n        class=\"col-12 col-xl-4 col-md-6 d-flex align-items-stretch\">\r\n        <div class=\"card quiz_card w-100 p-4\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title text-center\">{{quiz.title}} </h5>\r\n            <p class=\"card-text\">-{{quiz.quizType}} </p>\r\n            <p class=\"card-text description\"><small class=\"text-muted\">{{quiz.description}} </small></p>\r\n          </div>\r\n          <div class=\"text-end\">\r\n            <p>\r\n              <img src=\"/assets/images/icons/cup_black_24dp.svg\">\r\n              12 Best result\r\n            </p>\r\n            <button [routerLink]=\"'/quiz/'+quiz.title\" class=\"btn btn-outline-primary w-100\">\r\n              Play\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--  -->\r\n    <h3 class=\"mb-4\">Likes announcement</h3>\r\n    <!-- Cards -->\r\n    <div class=\"row flex-wrap card-deck\">\r\n      <div *ngFor=\"let annoucement of dashboard.popularAnnouncement\"\r\n        class=\"col-12 col-lg-6 col-xl-4 mb-3 d-flex align-items-stretch full_card\">\r\n        <div class=\"card w-100\">\r\n          <div class=\"card-body d-flex body\">\r\n            <!-- first half of the card -->\r\n            <div class=\"d-flex flex-column col-9\">\r\n              <div class=\"d-flex mb-2 image\">\r\n                <img src=\"/assets/user.jpg\" alt=\"image\" class=\"me-2\">\r\n                <div>\r\n                  <div>{{annoucement?.title}}</div>\r\n                  <div>by {{annoucement?.user?.firstName}} {{annoucement?.user?.lastName}}</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"description\">\r\n                {{annoucement.description}}\r\n              </div>\r\n            </div>\r\n            <!-- second half of the card -->\r\n            <div class=\"d-flex flex-column justify-content-between col-3 second__card\">\r\n              <div class=\"d-flex word-wrap svg\">\r\n                <img src=\"/assets/images/icons/today_black_24dp.svg\" alt=\"date\" class=\"svg me-1\">\r\n                <div>{{annoucement?.date | date:\"yyyy.MM.dd\"}} </div>\r\n              </div>\r\n              <div class=\"d-flex word-wrap svg\">\r\n                <img src=\"/assets/images/icons/location_on_black_24dp.svg\" alt=\"date\" class=\"svg me-1\">\r\n                <div>{{annoucement?.address}}</div>\r\n              </div>\r\n              <div class=\"d-flex word-wrap svg\">\r\n                <img src=\"/assets/images/icons/heart.svg\" *ngIf=\"annoucement?.isLiked\" alt=\"like\" class=\"svg me-1\"\r\n                  (click)=\"onLike(annoucement)\">\r\n                <img src=\"/assets/images/icons/heart-outline.svg\" *ngIf=\"!annoucement?.isLiked\" alt=\"like\"\r\n                  class=\"svg me-1\" (click)=\"onLike(annoucement)\">\r\n                <div>{{annoucement?.participantsCap}}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!--  -->\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DashboardComponent } from './components/dashboard.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: DashboardComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class DashboardRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule, registerLocaleData } from '@angular/common';\r\nimport { DashboardComponent } from './components/dashboard.component';\r\nimport { DashboardRoutingModule } from './dashboard-routing.module';\r\nimport localeRu from '@angular/common/locales/ru';\r\n\r\nregisterLocaleData(localeRu, 'ru');\r\n\r\n\r\n@NgModule({\r\n  declarations: [DashboardComponent],\r\n  imports: [\r\n    CommonModule,\r\n    DashboardRoutingModule\r\n  ]\r\n})\r\nexport class DashboardModule { }\r\n"],"sourceRoot":"webpack:///"}